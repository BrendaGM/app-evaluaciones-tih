(this["webpackJsonpapp-evaluaciones-tih"]=this["webpackJsonpapp-evaluaciones-tih"]||[]).push([[0],{30:function(e,t,a){},41:function(e){e.exports=JSON.parse('{"usuario":"bquirino@spsolutions.com.mx","contrasena":"hoy"}')},50:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(5),c=a(0),r=a.n(c),s=a(14),o=a.n(s),i=(a(50),a(20)),u=a(9),l=a(18),j=(a(51),a(30),a.p+"static/media/SPS.1cae14da.jpg"),d=a(78),b=a(81),p=a(79),O=a(82),h=a(80),m=a(15),x=a(41),g="LOGIN",f="LOGIN_ERROR",v=a(27),y=a.n(v),S=function(e,t){return{type:g,userDetails:Object(u.a)({},e),userData:t,success:!0}},D={loginAction:function(e){return function(t,a){return new Promise((function(a,n){y.a.all([y.a.get("/usuarios?usuario=".concat(e.usuario,"&contrasena=").concat(e.contrasena))]).then((function(n){console.log(n),t(S(e,n)),a(S(e,n))})).catch((function(e){t({type:f,payload:"No se encontro el usuario"}),a({error:e})}))}))}}},C=Object(m.b)((function(e){return{userDetails:e.login.userDetails}}),D)((function(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),r=a[0],s=a[1],o=Object(c.useState)(!1),m=Object(l.a)(o,2),g=m[0],f=m[1],v=Object(c.useState)(x),y=Object(l.a)(v,2),S=y[0],D=y[1],C=Object(c.useState)(!1),N=Object(l.a)(C,2),I=N[0],P=N[1],k=function(){return P(!1)},T=function(e){D(Object(u.a)(Object(u.a)({},S),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)(d.a,{src:j,alt:"SPS",className:"spsLogo"}),Object(n.jsx)("p",{className:"opacos",children:"Proporciona tus credenciales para iniciar sesi\xf3n en la App de Evaluaciones"}),Object(n.jsxs)(b.a,{noValidate:!0,validated:r,onSubmit:function(t){if(!1===t.currentTarget.checkValidity())t.preventDefault(),t.stopPropagation();else{var a=S.usuario+"@spsolutions.com.mx";D((function(e){return Object(u.a)(Object(u.a)({},S),{},{usuario:a})})),S.usuario.length&&S.contrasena.length&&function(t,a){var n={usuario:t,contrasena:a};e.loginAction(n).then((function(t){console.log(t),t.success&&e.history.push("/tih/home")}))}(a,S.contrasena),t.preventDefault()}s(!0)},children:[Object(n.jsx)(b.a.Group,{md:"6",controlId:"validationCustom03",children:Object(n.jsxs)(p.a,{children:[Object(n.jsx)(b.a.Control,{type:"text",placeholder:"Usuario",name:"usuario",onChange:T,required:!0}),Object(n.jsx)(b.a.Control.Feedback,{type:"invalid",children:"Ingresa un usuario valido."}),Object(n.jsx)(p.a.Append,{children:Object(n.jsx)(p.a.Text,{id:"inputGroupPrepend",children:"@spsolutions.com.mx"})})]})}),Object(n.jsx)(b.a.Group,{md:"3",controlId:"validationCustom04",children:Object(n.jsx)(b.a.Control,{type:"password",placeholder:"Contrase\xf1a",name:"contrasena",onChange:T,required:!0})}),Object(n.jsx)(O.a,{md:"6",type:"submit",variant:"primary",className:"botonCentral",size:"md",children:"Iniciar Sesi\xf3n"})]}),Object(n.jsx)(O.a,{variant:"link",className:"opacos",onClick:function(){return P(!0)},children:"Olvid\xe9 mi contrase\xf1a"}),Object(n.jsxs)(h.a,{show:I,onHide:k,children:[Object(n.jsx)(h.a.Header,{closeButton:!0,children:Object(n.jsx)(h.a.Title,{children:"Talento In House"})}),Object(n.jsx)(h.a.Body,{children:Object(n.jsxs)(b.a,{noValidate:!0,validated:g,onSubmit:function(e){!1===e.currentTarget.checkValidity()?(e.preventDefault(),e.stopPropagation()):(e.preventDefault(),k()),f(!0)},children:[Object(n.jsxs)(b.a.Group,{children:[Object(n.jsx)(b.a.Label,{children:"Escribe tu correo para recstablcer tu contrase\xf1a"}),Object(n.jsx)(b.a.Control,{type:"email",placeholder:"example@spsolutions.com.mx",required:!0})]}),Object(n.jsx)(O.a,{type:"submit",variant:"primary",className:"botonPrimary",children:"Enviar"})]})}),Object(n.jsx)(h.a.Footer,{children:Object(n.jsx)(O.a,{variant:"danger",onClick:k,children:"Cerrar"})})]})]})})),N=Object(m.b)((function(e){return console.log("state",e),{userDetails:e.login.userDetails}}),null)((function(e){return Object(n.jsxs)("div",{className:"login",children:[Object(n.jsx)("h1",{children:"Hello ".concat(e.userDetails.usuario,"!")}),Object(n.jsx)("p",{children:"Your id is ".concat(e.userDetails._id)})]})})),I=a(43),P=a(7);var k=function(){return Object(n.jsx)(I.a,{basename:"/",children:Object(n.jsxs)("div",{clasName:"App",children:[Object(n.jsx)(P.a,{exact:!0,path:"/tih/login",component:C}),Object(n.jsx)(P.a,{exact:!0,path:"/tih/home",component:N})]})})},T=a(16),w=a(44),E={userDetails:{usuario:"",contrasena:""}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(u.a)(Object(u.a)({},e),{},{data:t.userData,userDetails:Object(u.a)({},t.userDetails)});case f:return Object(u.a)(Object(u.a)({},e),t.payload);default:return e}},G=function(){var e={};try{e=sessionStorage.getItem("master_class")?JSON.parse(sessionStorage.getItem("master_class")):{}}catch(a){console.log("getError",a)}var t=Object(T.c)({login:F});return Object(T.d)(t,e,Object(T.a)(w.a,(function(e){return function(t){return function(a){var n=e.getState();return sessionStorage.setItem("master_class",JSON.stringify(Object(u.a)({},n))),t(a)}}})))},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(m.a,{store:G(),children:Object(n.jsx)(k,{})})}),document.getElementById("root")),L()}},[[75,1,2]]]);
//# sourceMappingURL=main.cb4fc6ce.chunk.js.map