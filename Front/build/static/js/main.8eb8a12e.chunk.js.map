{"version":3,"sources":["images/SPS.jpg","redux/constan.js","redux/actions/loginAction.js","api.js","pages/login.js","pages/home.js","App.js","redux/reducers/loginReducer.js","redux/store/store.js","reportWebVitals.js","index.js"],"names":["LOGIN","LOGIN_ERROR","login","payload","userData","type","userDetails","success","mapDispatchToProps","loginAction","dispatch","getState","Promise","resolve","reject","axios","url","method","mode","headers","then","response","console","log","catch","error","alert","data","mensaje","connect","state","props","useState","validated","setValidated","validated2","setValidated2","dataUser","user","setUser","show","setShow","handleClose","fetch","redirect","handleChange","e","target","name","value","className","Image","src","Logo","alt","Form","noValidate","onSubmit","event","currentTarget","checkValidity","preventDefault","stopPropagation","aux","usuario","u","length","contrasena","history","push","Group","md","controlId","InputGroup","Control","placeholder","onChange","required","Feedback","Append","Text","id","Button","variant","size","onClick","Modal","onHide","Header","closeButton","Title","Body","Label","Footer","_id","App","clasName","exact","path","component","Login","Home","initial_state","LoginReducer","action","ConfigureStore","intialState","sessionStorage","getItem","JSON","parse","rootReducer","combineReducers","createStore","applyMiddleware","thunk","store","next","stateToSave","setItem","stringify","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","StoreConfig","document","getElementById"],"mappings":"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","file":"static/js/main.8eb8a12e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/SPS.1cae14da.jpg\";","export const LOGIN= \"LOGIN\";\r\nexport const LOGIN_ERROR= \"LOGIN_ERROR\";","import { LOGIN } from \"../constan\";\r\nimport { LOGIN_ERROR } from \"../constan\";\r\nimport axios from \"axios\";\r\n\r\nconst login = (payload, userData) => {\r\n  return {\r\n    type: LOGIN,\r\n    userDetails: { ...payload },\r\n    userData: userData,\r\n    success: true,\r\n  };\r\n};\r\n\r\nexport const LoginAction = (payload) => (dispatch, getState) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      //url: `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`,\r\n      url: \"http://api-enriquecimiento.us-e2.cloudhub.io/api/gestionPagos/enriquecimiento/v2/contratos?claveEntidad=MONEX&idContrato=123455\",\r\n      method: \"GET\",\r\n      mode: \"no-cors\",\r\n      headers: {\r\n        \"X-Requested-With\": \"XMLHttpRequest\",\r\n        \"Content-Type\": \"application/json;charset=UTF-8\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n      },\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        dispatch(login(payload, response));\r\n        resolve(login(payload, response));\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: LOGIN_ERROR, payload: \"No se encontro el usuario.\" });\r\n        resolve({ error });\r\n        alert(error.response.data.mensaje);\r\n      });\r\n  });\r\n};\r\n","const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\nconst url = \"http://localhost:18081/api\"; // site that doesn’t send Access-Control-*\r\n\r\n//const BASE_URL = \"http://localhost:18081/api\";\r\nconst BASE_URL = \"http://localhost:18081/api/usuarios?usuario=bg&contrasena=da\";\r\n\r\n/*\r\nasync function callApi(endpoint, options = {}) {\r\n  options.headers = {\r\n    \"Content-Type\": \"application/json\",\r\n    Accept: \"application/json\",\r\n    \"Access-Control-Allow-Origin\": \"*\",\r\n  };\r\n\r\n  const url = BASE_URL + endpoint;\r\n  const response = await fetch(url, options);\r\n  const data = await response.json();\r\n\r\n  return data;\r\n}\r\n*/\r\nasync function callApi() {\r\n  var requestOptions = {\r\n    method: \"GET\",\r\n    redirect: \"follow\",\r\n    mode: \"no-cors\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  };\r\n\r\n  let data = \"\";\r\n  fetch(BASE_URL, requestOptions)\r\n    .then((response) => {\r\n      alert(\"a1\");\r\n      console.log(response); \r\n    })\r\n    .then((result) => {\r\n      alert(\"a2\");\r\n      console.log(result);\r\n    })\r\n    .catch((error) => console.log(\"error\", error));\r\n  return data;\r\n}\r\n\r\nconst api = {\r\n  badges: {\r\n    list() {\r\n      //return callApi(\"/usuarios\");\r\n      return callApi();\r\n    },\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport '../styles/login.css'\r\nimport {useState} from 'react'\r\nimport Logo from '../images/SPS.jpg'\r\nimport {Form, Button,Image,InputGroup,Modal} from 'react-bootstrap';\r\nimport {connect} from 'react-redux'\r\nimport dataUser from '../Database/user.json'\r\nimport {LoginAction} from '../redux/actions/loginAction'\r\nimport api from '../api';\r\n\r\nconst Login=(props)=>{\r\n    let sps='@spsolutions.com.mx';\r\n    const [validated, setValidated] = useState(false);\r\n    const [validated2, setValidated2] = useState(false);\r\n    const [user,setUser]=useState(dataUser);\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n    const login= (usuario,contrasena)=>{\r\n        let payload ={usuario: usuario, contrasena: contrasena}\r\n        props.loginAction(payload)\r\n        .then(response =>{\r\n            console.log(response);\r\n            if(response.success){\r\n                props.history.push('/home');\r\n            }\r\n        })\r\n    }\r\n\r\n    //const data = api.badges.list();\r\n\r\n    const response =  fetch(\r\n        \"http://localhost:18081/api/usuarios?usuario=bg&contrasena=da\", {\r\n            method: \"GET\",\r\n            redirect: \"follow\",\r\n            mode: \"no-cors\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            }\r\n        }\r\n    );\r\n    \r\n    console.log(\"RESPONSE: \" + response);\r\n\r\n    const handleChange=(e)=>{\r\n        setUser({\r\n                ...user,\r\n                [e.target.name]:e.target.value\r\n            }\r\n        )\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        const form = event.currentTarget;\r\n        if (form.checkValidity() === false) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }else{\r\n            let aux=user.usuario+sps\r\n            setUser(u=>{return {...user,usuario:aux}})\r\n            user.usuario.length && user.contrasena.length && login(aux,user.contrasena);\r\n            event.preventDefault();\r\n        }\r\n    \r\n        setValidated(true);\r\n      };\r\n      const handleSubmit2 = (event) => {\r\n        const form = event.currentTarget;\r\n        if (form.checkValidity() === false) {\r\n          event.preventDefault();\r\n          event.stopPropagation();\r\n        }else{\r\n            event.preventDefault();\r\n            handleClose();\r\n        }\r\n    \r\n        setValidated2(true);\r\n      };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <Image src={Logo} alt=\"SPS\" className=\"spsLogo\"/>\r\n            <p className=\"opacos\">Proporciona tus credenciales para iniciar sesión en la App de Evaluaciones</p>\r\n            <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n                <Form.Group md=\"6\" controlId=\"validationCustom03\">\r\n                    <InputGroup>\r\n                        <Form.Control\r\n                        type=\"text\"\r\n                        placeholder=\"Usuario\"\r\n                        name=\"usuario\"\r\n                        onChange={handleChange}\r\n                        required\r\n                        />\r\n                        <Form.Control.Feedback type=\"invalid\">Ingresa un usuario valido.</Form.Control.Feedback>\r\n                        <InputGroup.Append>\r\n                            <InputGroup.Text id=\"inputGroupPrepend\">@spsolutions.com.mx</InputGroup.Text>\r\n                        </InputGroup.Append>\r\n                    </InputGroup>    \r\n                </Form.Group>\r\n                <Form.Group md=\"3\" controlId=\"validationCustom04\">\r\n                    <Form.Control type=\"password\" placeholder=\"Contraseña\" name=\"contrasena\" onChange={handleChange} required />\r\n                </Form.Group>\r\n                <Button md=\"6\" type=\"submit\" variant=\"primary\" className=\"botonCentral\" size=\"md\" /*onClick={handleClick}*/ >Iniciar Sesión</Button>\r\n            </Form>\r\n            <Button variant=\"link\" className=\"opacos\" onClick={handleShow}>Olvidé mi contraseña</Button>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                <Modal.Title>Talento In House</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>\r\n                    <Form noValidate validated={validated2} onSubmit={handleSubmit2}>\r\n                        <Form.Group>\r\n                            <Form.Label>Escribe tu correo para recstablcer tu contraseña</Form.Label>\r\n                            <Form.Control type=\"email\" placeholder=\"example@spsolutions.com.mx\" required/>\r\n                        </Form.Group>\r\n                        <Button type=\"submit\" variant=\"primary\" className=\"botonPrimary\">Enviar</Button>\r\n                    </Form>\r\n                </Modal.Body>\r\n                <Modal.Footer>\r\n                <Button variant=\"danger\" onClick={handleClose}>Cerrar</Button>\r\n                \r\n                </Modal.Footer>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps=(state)=>{\r\n    return{\r\n        userDetails: state.login.userDetails,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps ={\r\n    loginAction:LoginAction\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Login);","import '../styles/login.css'\r\nimport React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nconst Home=(props)=>{\r\n    return(\r\n        <div className=\"login\">\r\n            <h1>{`Hello ${props.userDetails.usuario}!`}</h1>\r\n            <p>{`Your id is ${props.userDetails._id}`}</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStatoToProps =(state)=>{\r\n    console.log('state', state);\r\n    return {\r\n        userDetails: state.login.userDetails,\r\n    }\r\n}\r\n\r\nexport default connect(mapStatoToProps,null)(Home);","import Login from './pages/login'\r\nimport Home from './pages/home'\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\nfunction App() {\r\n  return (\r\n      <Router>\r\n        <div clasName=\"App\">\r\n            <Switch>\r\n              <Route exact path=\"/\" component={Login}/>\r\n              <Route exact path=\"/home\" component={Home}/>\r\n            </Switch>\r\n        </div>\r\n      </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { LOGIN, LOGIN_ERROR } from '../constan';\r\n\r\nconst initial_state = {\r\n    userDetails: {\r\n        usuario:\"\",\r\n        contrasena:\"\"\r\n    }\r\n}\r\nconst LoginReducer = (state = initial_state, action) => {\r\n    switch (action.type) {\r\n        case LOGIN:\r\n            return {...state, data:action.userData, userDetails: { ...action.userDetails}};\r\n        case LOGIN_ERROR:\r\n            return {...state, ...action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default LoginReducer;","import { createStore, applyMiddleware,combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk'\r\nimport LoginReducer from '../reducers/loginReducer';\r\n\r\nconst ConfigureStore = () => {\r\n    var intialState = {};\r\n    try {\r\n        intialState = sessionStorage.getItem(\"master_class\") ? JSON.parse(sessionStorage.getItem(\"master_class\")) : {};\r\n    } catch (error) {\r\n        console.log('getError', error)\r\n    }\r\n    const saver = (store) => next => action => {\r\n    let stateToSave = store.getState();\r\n    sessionStorage.setItem(\"master_class\", JSON.stringify({ ...stateToSave }))\r\n    return next(action);\r\n    }\r\n        const rootReducer = combineReducers({\r\n        login: LoginReducer,\r\n    });\r\n    return createStore(rootReducer,intialState,applyMiddleware(thunk,saver));\r\n}\r\n\r\nexport default ConfigureStore;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { Provider } from 'react-redux'\r\nimport StoreConfig from './redux/store/store'\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={StoreConfig()}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}