{"ast":null,"code":"import { LOGIN } from \"../constan\";\nimport { LOGIN_ERROR } from \"../constan\";\nimport Axios from \"axios\";\n/*export const LoginAction = (payload) => {\r\n    return (dispatch)=>{\r\n        //let result={...payload};\r\n        //dispatch({ type: LOGIN, payload: result });\r\n        //console.log(payload)\r\n        /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)\r\n        Axios.get('http://jsonplaceholder.typicode.com/posts')\r\n        .then(response=>{\r\n            console.log(response.data)\r\n            dispatch({ type: LOGIN, payload: response.data });\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n        });\r\n    }\r\n}*/\n\nconst login = (payload, userData) => {\n  return {\n    type: LOGIN,\n    userDetails: { ...payload\n    },\n    userData: userData,\n    success: true\n  };\n};\n\nexport const LoginAction = payload => (dispatch, getState) => {\n  return new Promise((resolve, reject) => {\n    /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/`+\r\n        `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)*/\n\n    /*Axios.get('http://jsonplaceholder.typicode.com/posts')*/\n\n    /*Axios.get('https://pokeapi.co/api/v2/berry/cheri')*/\n\n    /*Axios.get('http://api-mesadecontrol.us-e2.cloudhub.io/api/gestionPagos/mesadecontrol/v1/reglas/dnovig/_aplicacion')*/\n    let url = `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/` + `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`;\n    const options = {\n      headers: {\n        \"X-Requested-With\": \"XMLHttpRequest\",\n        \"Content-Type\": \"application/json\",\n        \"Access-Control-Allow-Credentials\": \"true\",\n        \"Access-Control-Allow-Origin\": \"*\",\n        \"Access-Control-Allow-Methods\": \"GET, POST, PATCH, DELETE, PUT, OPTIONS\",\n        \"Access-Control-Allow-Headers\": \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\"\n      }\n    };\n    Axios.get('http://localhost:18081/api/usuarios?usuario=bg&contrasena=al', options).then(response => console.log(response)).catch(error => console.log(error));\n    /*\r\n        fetch({\r\n            method: 'get',\r\n            url: url,\r\n            headers: {'X-Requested-With': 'XMLHttpRequest'}\r\n            })\r\n       .then(response=>{\r\n            dispatch(login(payload,response));\r\n            alert(response)\r\n            resolve(login(payload,response))\r\n        })\r\n        .catch((error)=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n            resolve({error})\r\n        });\r\n          */\n  });\n};","map":{"version":3,"sources":["C:/Code/app-evaluaciones-tih/front/src/redux/actions/loginAction.js"],"names":["LOGIN","LOGIN_ERROR","Axios","login","payload","userData","type","userDetails","success","LoginAction","dispatch","getState","Promise","resolve","reject","url","usuario","contrasena","options","headers","get","then","response","console","log","catch","error"],"mappings":"AAAA,SAASA,KAAT,QAAsB,YAAtB;AACA,SAASC,WAAT,QAA4B,YAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,KAAK,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEN,KADD;AAELO,IAAAA,WAAW,EAAE,EAAE,GAAGH;AAAL,KAFR;AAGLC,IAAAA,QAAQ,EAAEA,QAHL;AAILG,IAAAA,OAAO,EAAE;AAJJ,GAAP;AAMD,CAPD;;AASA,OAAO,MAAMC,WAAW,GAAIL,OAAD,IAAa,CAACM,QAAD,EAAWC,QAAX,KAAwB;AAC9D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtC;AACJ;;AACI;;AACA;;AACA;AAEA,QAAIC,GAAG,GACJ,4GAAD,GACC,qCAAoCX,OAAO,CAACY,OAAQ,eAAcZ,OAAO,CAACa,UAAW,EAFxF;AAIA,UAAMC,OAAO,GAAG;AACdC,MAAAA,OAAO,EAAE;AACP,4BAAoB,gBADb;AAEP,wBAAgB,kBAFT;AAGP,4CAAoC,MAH7B;AAIP,uCAA+B,GAJxB;AAKP,wCACE,wCANK;AAOP,wCACE;AARK;AADK,KAAhB;AAaAjB,IAAAA,KAAK,CAACkB,GAAN,CAAU,8DAAV,EAA0EF,OAA1E,EACGG,IADH,CACSC,QAAD,IAAcC,OAAO,CAACC,GAAR,CAAYF,QAAZ,CADtB,EAEGG,KAFH,CAEUC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAFpB;AAIA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGG,GA9CM,CAAP;AA+CD,CAhDM","sourcesContent":["import { LOGIN } from \"../constan\";\r\nimport { LOGIN_ERROR } from \"../constan\";\r\nimport Axios from \"axios\";\r\n\r\n/*export const LoginAction = (payload) => {\r\n    return (dispatch)=>{\r\n        //let result={...payload};\r\n        //dispatch({ type: LOGIN, payload: result });\r\n        //console.log(payload)\r\n        /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)\r\n        Axios.get('http://jsonplaceholder.typicode.com/posts')\r\n        .then(response=>{\r\n            console.log(response.data)\r\n            dispatch({ type: LOGIN, payload: response.data });\r\n        })\r\n        .catch(error=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n        });\r\n    }\r\n}*/\r\nconst login = (payload, userData) => {\r\n  return {\r\n    type: LOGIN,\r\n    userDetails: { ...payload },\r\n    userData: userData,\r\n    success: true,\r\n  };\r\n};\r\n\r\nexport const LoginAction = (payload) => (dispatch, getState) => {\r\n  return new Promise((resolve, reject) => {\r\n    /*Axios.get(`https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/`+\r\n        `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`)*/\r\n    /*Axios.get('http://jsonplaceholder.typicode.com/posts')*/\r\n    /*Axios.get('https://pokeapi.co/api/v2/berry/cheri')*/\r\n    /*Axios.get('http://api-mesadecontrol.us-e2.cloudhub.io/api/gestionPagos/mesadecontrol/v1/reglas/dnovig/_aplicacion')*/\r\n\r\n    let url =\r\n      `https://anypoint.mulesoft.com/mocking/api/v1/sources/exchange/assets/d4788f6c-c024-43ee-8253-b139c8997e9e/` +\r\n      `usuarios/1.0.0/m/usuarios?usuario=${payload.usuario}&contrasena=${payload.contrasena}`;\r\n\r\n    const options = {\r\n      headers: {\r\n        \"X-Requested-With\": \"XMLHttpRequest\",\r\n        \"Content-Type\": \"application/json\",\r\n        \"Access-Control-Allow-Credentials\": \"true\",\r\n        \"Access-Control-Allow-Origin\": \"*\",\r\n        \"Access-Control-Allow-Methods\":\r\n          \"GET, POST, PATCH, DELETE, PUT, OPTIONS\",\r\n        \"Access-Control-Allow-Headers\":\r\n          \"Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\",\r\n      },\r\n    };\r\n\r\n    Axios.get('http://localhost:18081/api/usuarios?usuario=bg&contrasena=al', options)\r\n      .then((response) => console.log(response))\r\n      .catch((error) => console.log(error));\r\n\r\n    /*\r\n        fetch({\r\n            method: 'get',\r\n            url: url,\r\n            headers: {'X-Requested-With': 'XMLHttpRequest'}\r\n\r\n          })\r\n       .then(response=>{\r\n            dispatch(login(payload,response));\r\n            alert(response)\r\n            resolve(login(payload,response))\r\n        })\r\n        .catch((error)=>{\r\n            dispatch({type: LOGIN_ERROR, payload: 'No se encontro el usuario'})\r\n            resolve({error})\r\n        });\r\n\r\n        */\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}